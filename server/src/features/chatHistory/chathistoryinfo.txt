// Saving a user’s question
{
  user: userId,
  project: projectId,
  repo: repoId,
  sessionId: "abc123",
  question: "How does authentication work in this repo?",
  role: "user",
  createdAt: <auto-generated>
}
// Saving AI’s reply
{
  user: userId,
  project: projectId,
  repo: repoId,
  sessionId: "abc123",
  response: "Authentication is handled by ...",
  role: "assistant",
  createdAt: <auto-generated>
}

All history for a user:
Query.find({ user: userId })

History for a user, project, and session:
Query.find({ user: userId, project: projectId, sessionId: 'abc123' })

Get full conversation (sorted):
Query.find({ sessionId: 'abc123' }).sort({ createdAt: 1 })

Show all interactions about a repo:
Query.find({ repo: repoId })

Show only assistant messages:
Query.find({ user: userId, role: 'assistant' })

Pull all FAQs:
Query.find({ tags: 'faq' })

// Find questions explicitly tagged as 'faq'
Query.find({ tags: 'faq' })
     .sort({ createdAt: -1 })
     .limit(10)

// Show the most recent questions for trend spotting
Query.find({})
     .sort({ createdAt: -1 })
     .limit(10)
